"use strict";const coctelInput=document.querySelector(".js-coctelInput"),cocktails=document.querySelector(".js-cocktail"),cocktailsFav=document.querySelector(".js-CocktailFav"),resetBtn=document.querySelector(".js-resetbtn");let favorites=[];if(null!==localStorage.getItem("favorites")){favorites=JSON.parse(localStorage.getItem("favorites"));for(let t of favorites)fetch("https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i="+t).then(t=>t.json()).then(t=>{addCocktailFav(t.drinks[0].idDrink,t.drinks[0].strDrink,t.drinks[0].strDrinkThumb)})}else favorites=[];function addCocktailFav(t,e,a){cocktailsFav.innerHTML+=`<div class="cocktailFav__card" data-id="${t}">\n    <h3 class="cocktailFav__name">${e}</h3>\n    <img class="cocktailFav__icon" src="../assets/images/cactus_favorite.svg">\n    <img class="cocktailFav__image" src="${a}">\n    </div>`}function removeCocktailFav(t){for(let e of cocktailsFav.children){e.getAttribute("data-id")===t&&e.remove()}}function addCocktails(t){for(let e of t){const t=e.strDrink;let a=e.strDrinkThumb;const c=e.idDrink,i=-1!==favorites.indexOf(c);let s="";s=i?"cocktail__card--fav":"",""===a&&(a="../assets/images/cocktails.png"),cocktails.innerHTML+=`<div data-image="${a}" data-name="${t}" data-id="${c}" data-fav="${i}" class="cocktail__card js-cocktailCard ${s}">\n      <h3 class="cocktail__name">${t}</h3>\n      <img class="cocktail__image" src="${a}">\n      </div>`}}function addEventCocktails(){const t=document.querySelectorAll(".js-cocktailCard");for(let e of t)e.addEventListener("click",(function(t){t.preventDefault();const a=t.currentTarget.getAttribute("data-id"),c=t.currentTarget.getAttribute("data-name"),i=t.currentTarget.getAttribute("data-image");if("true"===t.currentTarget.getAttribute("data-fav")){const c=favorites.indexOf(a);favorites.splice(c,1),e.classList.remove("cocktail__card--fav"),t.currentTarget.setAttribute("data-fav","false"),removeCocktailFav(a)}else favorites.push(a),e.classList.add("cocktail__card--fav"),t.currentTarget.setAttribute("data-fav","true"),addCocktailFav(a,c,i);localStorage.setItem("favorites",JSON.stringify(favorites))}))}document.querySelector(".js-searchbtn").addEventListener("click",(function(t){t.preventDefault(),cocktails.innerHTML="",fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s="+coctelInput.value).then(t=>t.json()).then(t=>{addCocktails(t.drinks),addEventCocktails()})})),resetBtn.addEventListener("click",(function(t){t.preventDefault(),favorites=[],localStorage.removeItem("favorites"),cocktailsFav.innerHTML="",location.reload()}));const animateButton=function(t){t.preventDefault,t.target.classList.remove("animate"),t.target.classList.add("animate"),setTimeout((function(){t.target.classList.remove("animate")}),700)},bubblyButtons=document.getElementsByClassName("bubbly-button");for(let t=0;t<bubblyButtons.length;t++)bubblyButtons[t].addEventListener("click",animateButton,!1);