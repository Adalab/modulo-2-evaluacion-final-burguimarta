"use strict";const coctelInput=document.querySelector(".js-coctelInput"),cocktails=document.querySelector(".js-cocktail"),cocktailsFav=document.querySelector(".js-CocktailFav");let favorites=[];if(null!==localStorage.getItem("favorites")){favorites=JSON.parse(localStorage.getItem("favorites"));for(let t of favorites)fetch("https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i="+t).then(t=>t.json()).then(t=>{addCocktailFav(t.drinks[0].idDrink,t.drinks[0].strDrink,t.drinks[0].strDrinkThumb)})}else favorites=[];function addCocktailFav(t,a,e){cocktailsFav.innerHTML+=`<div class="cocktailFav__card" data-id="${t}">\n    <h3 class="cocktailFame__name">${a}</h3>\n    <img class="cocktailFav__image" src="${e}">\n    </div>`}function removeCocktailFav(t){for(let a of cocktailsFav.children){a.getAttribute("data-id")===t&&a.remove()}}function addCocktails(t){for(let a of t){const t=a.strDrink;let e=a.strDrinkThumb;const c=a.idDrink,i=-1!==favorites.indexOf(c);let r="";r=i?"cocktail__card--fav":"",""===e&&(e="../assets/images/cocktails.png"),cocktails.innerHTML+=`<div data-image="${e}" data-name="${t}" data-id="${c}" data-fav="${i}" class="cocktail__card js-cocktailCard ${r}">\n      <h3 class="cocktail__name">${t}</h3>\n      <img class="cocktail__image" src="${e}">\n      </div>`}}function addEventCocktails(){const t=document.querySelectorAll(".js-cocktailCard");for(let a of t)a.addEventListener("click",(function(t){t.preventDefault();const e=t.currentTarget.getAttribute("data-id"),c=t.currentTarget.getAttribute("data-name"),i=t.currentTarget.getAttribute("data-image");if("true"===t.currentTarget.getAttribute("data-fav")){const c=favorites.indexOf(e);favorites.splice(c,1),a.classList.remove("cocktail__card--fav"),t.currentTarget.setAttribute("data-fav","false"),removeCocktailFav(e)}else favorites.push(e),a.classList.add("cocktail__card--fav"),t.currentTarget.setAttribute("data-fav","true"),addCocktailFav(e,c,i);localStorage.setItem("favorites",JSON.stringify(favorites))}))}document.querySelector(".js-searchbtn").addEventListener("click",(function(t){t.preventDefault(),cocktails.innerHTML="",fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s="+coctelInput.value).then(t=>t.json()).then(t=>{addCocktails(t.drinks),addEventCocktails()})}));